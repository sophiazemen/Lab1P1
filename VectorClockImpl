import java.rmi.RemoteException;
import java.rmi.server.UnicastRemoteObject;
import java.util.Arrays;

public class VectorClockImpl extends UnicastRemoteObject implements VectorClock {
    private int[] clock;

    public VectorClockImpl(int numProcesses) throws RemoteException {
        clock = new int[numProcesses];
        Arrays.fill(clock, 0);
    }

    @Override
    public int[] getClock() {
        return clock;
    }

    @Override
    public void increment(int processId) {
        clock[processId]++;
    }

    @Override
    public void update(int[] remoteClock) {
        for (int i = 0; i < clock.length; i++) {
            clock[i] = Math.max(clock[i], remoteClock[i]);
        }
    }
}
